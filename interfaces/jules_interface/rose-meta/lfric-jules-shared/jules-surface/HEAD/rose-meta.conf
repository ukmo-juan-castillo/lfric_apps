[namelist:jules_surface]
compulsory=true
description=Options for surface parametrisations
ns=namelist/JULES Science Settings/jules_surface
sort-key=Section-A12e
title=Surface options
url=http://jules-lsm.github.io/latest/namelists/jules_surface.nml.html

[namelist:jules_surface=all_tiles]
compulsory=true
description=Do calculations of tile properties on all tiles (except land ice)
           =for all gridpoints even when the tile fraction is zero
!enumeration=true
sort-key=Panel-F10
url=http://jules-lsm.github.io/latest/namelists/jules_surface.nml.html#JULES_SURFACE::all_tiles
value-titles=Off,On
values=0,1

[namelist:jules_surface=anthrop_heat_mean]
compulsory=true
description=Baseline mean anthropogenic heat flux for Flanner scheme
!kind=double
sort-key=Panel-F03b
type=real
url=http://jules-lsm.github.io/latest/namelists/jules_surface.nml.html#JULES_SURFACE::anthrop_heat_mean

[namelist:jules_surface=anthrop_heat_option]
compulsory=true
description=Options for calculating anthropogenic heat
!enumeration=true
sort-key=Panel-F03a
trigger=namelist:jules_surface=anthrop_heat_mean: 1;
url=http://jules-lsm.github.io/latest/namelists/jules_surface.nml.html#JULES_SURFACE::anthrop_heat_option
value-titles=DUKES fixed annual cycle, Flanner latitude-dependent annual and diurnal cycles
values=0,1

[namelist:jules_surface=beta1]
compulsory=true
description=Coupling coefficient for co-limitation
!kind=double
ns=namelist/JULES Science Settings/jules_surface/Parameters
sort-key=c
type=real
url=http://jules-lsm.github.io/latest/namelists/jules_surface.nml.html#JULES_SURFACE::beta1

[namelist:jules_surface=beta2]
compulsory=true
description=Coupling coefficient for co-limitation
!kind=double
ns=namelist/JULES Science Settings/jules_surface/Parameters
sort-key=d
type=real
url=http://jules-lsm.github.io/latest/namelists/jules_surface.nml.html#JULES_SURFACE::beta2

[namelist:jules_surface=beta_cnv_bl]
compulsory=true
description=Convective gustiness parameter in surface exchange
!kind=double
ns=namelist/JULES Science Settings/jules_surface/Parameters
range=0.0:
sort-key=Panel-F11a
type=real
url=http://jules-lsm.github.io/latest/namelists/jules_surface.nml.html#JULES_SURFACE::beta_cnv_bl

[namelist:jules_surface=cor_mo_iter]
compulsory=true
description=Corrections to Monin-Obukhov surface exchange calculation
!enumeration=true
sort-key=Panel-F11
trigger=namelist:jules_surface=beta_cnv_bl: 4;
url=http://jules-lsm.github.io/latest/namelists/jules_surface.nml.html#JULES_SURFACE::cor_mo_iter
value-titles=Correct convective gustiness in low winds,
            =Correct U* in dust scheme,
            =Limit Obukhov length in low winds,
            =Improve initial guess (preferred)
values=1,2,3,4

[namelist:jules_surface=fd_hill_option]
compulsory=true
description=Orographic form drag formulation
           =NOT AVAILABLE TO STANDALONE
!enumeration=true
help=The distributed version of turbulent orographic form drag can
    =use steep or low hill formulations (the steep being the one used with
    =effective roughness lengths), or the low hill formulation but with
    =the resulting stress capped by that generated from the steep hill
    =expression
sort-key=Panel-FX01c
value-titles=steep hill,low hill,capped low hill
values=0,1,2

[namelist:jules_surface=fd_stability_dep]
compulsory=true
description=Stability dependence option for orographic form drag
           =NOT AVAILABLE TO STANDALONE
!enumeration=true
help=Turbulent orographic form drag can be implemented either using
    =effective roughness lengths or as a distributed drag profile
    =dependent on the switch namelist:jules_surface=formdrag.
    =This drag can either be applied without any stability dependence,
    =or dependent on the surface to level 1 Richardson number, or for
    =the distributed version, on a bulk Richardson number between the
    =surface and the diagnosed middle-layer depth, h_m.
sort-key=Panel-FX01b
value-titles=Off,Surface Ri,Bulk Ri
values=0,1,2

[namelist:jules_surface=formdrag]
compulsory=true
description=Orographic form drag option
           =NOT AVAILABLE TO STANDALONE
!enumeration=true
fail-if=this != 0 and namelist:jules_model_environment=l_jules_parent == 0; # In standalone formdrag should be 0
help=Turbulent orographic form drag can be implemented either using
    =effective roughness lengths or as an explicit distributed drag profile.
    =This option is currently not available to standalone as there
    =is no mechanism of providing the necessary ancillary data.
sort-key=Panel-FX01
trigger=namelist:jules_surface=orog_drag_param: 1,2;
       =namelist:jules_surface=fd_stability_dep: 1,2;
       =namelist:jules_surface=fd_hill_option: 2;
       =namelist:run_stochastic=orog_drag_param_rp: 1,2;
value-titles=No orographic stress,Effective roughness,Distributed Drag
values=0,1,2

[namelist:jules_surface=fwe_c3]
compulsory=true
description=Factor in expressions for limitation of photosynthesis
           =by transport of products for C3 grass
!kind=double
ns=namelist/JULES Science Settings/jules_surface/Parameters
sort-key=e
type=real
url=http://jules-lsm.github.io/latest/namelists/jules_surface.nml.html#JULES_SURFACE::fwe_c3

[namelist:jules_surface=fwe_c4]
compulsory=true
description=Factor in expressions for limitation of photosynthesis
           =by transport of products for C4 grass
!kind=double
ns=namelist/JULES Science Settings/jules_surface/Parameters
sort-key=f
type=real
url=http://jules-lsm.github.io/latest/namelists/jules_surface.nml.html#JULES_SURFACE::fwe_c4

[namelist:jules_surface=hleaf]
compulsory=true
description=Specific heat capacity of leaves (J / K / kg Carbon)
!kind=double
ns=namelist/JULES Science Settings/jules_surface/Parameters
sort-key=a
type=real
url=http://jules-lsm.github.io/latest/namelists/jules_surface.nml.html#JULES_SURFACE::hleaf

[namelist:jules_surface=hwood]
compulsory=true
description=Specific heat capacity of wood (J / K / kg Carbon)
!kind=double
ns=namelist/JULES Science Settings/jules_surface/Parameters
sort-key=b
type=real
url=http://jules-lsm.github.io/latest/namelists/jules_surface.nml.html#JULES_SURFACE::hwood

[namelist:jules_surface=i_modiscopt]
compulsory=true
description=Method of discretization in the surface layer
           =NOT AVAILABLE TO STANDALONE
!enumeration=true
fail-if=this !=0 and namelist:jules_model_environment=l_jules_parent == 0; # In standalone i_modiscopt should be 0
help=Should always be 0 (i.e. off) in standalone.
sort-key=Panel-FX02
value-titles=Off,On
values=0,1

[namelist:jules_surface=iscrntdiag]
compulsory=true
description=Method of diagnosing the screen temperature
!enumeration=true
fail-if=(this == 2 or this == 3) and namelist:jules_model_environment=l_jules_parent == 0; #  The preferred option in standalone is 0. The decoupled option specified is not recommended until driving JULES with a decoupled variable is fully tested.
sort-key=Panel-F12
url=http://jules-lsm.github.io/latest/namelists/jules_surface.nml.html#JULES_SURFACE::iscrntdiag
value-titles=No decoupling,
            =Decoupled in very stable conditions,
            =Decoupled with transitional effects,
            =Decoupled (T & q) with transitional effects
values=0,1,2,3

[namelist:jules_surface=l_anthrop_heat_src]
compulsory=true
description=Use anthropogenic heat source on urban surface types
sort-key=Panel-F03
trigger=namelist:jules_surface=anthrop_heat_option: .true.;
       =namelist:jules_urban=anthrop_heat_scale: .true.;
type=logical
url=http://jules-lsm.github.io/latest/namelists/jules_surface.nml.html#JULES_SURFACE::l_anthrop_heat_src

[namelist:jules_surface=l_elev_land_ice]
compulsory=true
description=Use individual tiled bedrock sub-surfaces for land ice tiles
fail-if=this and any(namelist:jules_surface_types=elev_ice < 0) and any(namelist:jules_surface_types=elev_rock < 0); # At least one of elev_ice or elev_rock needs to be used (> 0).
       =this and len(namelist:jules_surface_types=elev_ice) == 0 and len(namelist:jules_surface_types=elev_rock) == 0; # At least one of elev_ice or elev_rock needs to be used (> 0).
       =this and any(namelist:jules_surface_types=elev_ice < 0) and len(namelist:jules_surface_types=elev_rock) == 0; # At least one of elev_ice or elev_rock needs to be used (> 0).
       =this and len(namelist:jules_surface_types=elev_ice) == 0 and any(namelist:jules_surface_types=elev_rock < 0); # At least one of elev_ice or elev_rock needs to be used (> 0).
sort-key=Panel-F04
trigger=namelist:jules_soil=dzsoil_elev: .true.;
       =namelist:jules_snow=rho_firn_albedo: .true.;
       =namelist:jules_snow=aicemax: .true.;
       =namelist:jules_surface_types=elev_ice: .true.;
       =namelist:jules_surface_types=elev_rock: .true.;
type=logical
url=http://jules-lsm.github.io/latest/namelists/jules_surface.nml.html#JULES_SURFACE::l_elev_land_ice

[namelist:jules_surface=l_elev_lw_down]
compulsory=true
description=Adjust downward longwave radiation for elevated tiles
sort-key=Panel-F05
type=logical
url=http://jules-lsm.github.io/latest/namelists/jules_surface.nml.html#JULES_SURFACE::l_elev_lw_down

[namelist:jules_surface=l_epot_corr]
compulsory=true
description=Use correction to calculation of potential evaporation
sort-key=Panel-F06
type=logical
url=http://jules-lsm.github.io/latest/namelists/jules_surface.nml.html#JULES_SURFACE::l_epot_corr

[namelist:jules_surface=l_flake_model]
compulsory=true
description=Use the Flake model to simulate lakes. (Not yet ready to use with Irrigation or TRIFFID)
sort-key=Panel-F13
trigger=namelist:jules_flake: .true.;
       =namelist:jules_vegetation=l_triffid: .false.;
       =namelist:jules_irrig=l_irrig_dmd: .false.;
type=logical

[namelist:jules_surface=l_land_ice_imp]
compulsory=true
description=Use implicit numerics to update land ice temperatures
sort-key=Panel-F07
type=logical
url=http://jules-lsm.github.io/latest/namelists/jules_surface.nml.html#JULES_SURFACE::l_land_ice_imp

[namelist:jules_surface=l_mo_buoyancy_calc]
compulsory=true
description=Switch for using interacting buoyancy in Monin-Obukhov calculation
sort-key=Panel-F14
type=logical
url=http://jules-lsm.github.io/latest/namelists/jules_surface.nml.html#JULES_SURFACE::l_mo_buoyancy_calc

[namelist:jules_surface=l_point_data]
compulsory=true
description=Using point rainfall data
sort-key=Panel-F08
type=logical
url=http://jules-lsm.github.io/latest/namelists/jules_surface.nml.html#JULES_SURFACE::l_point_data

[namelist:jules_surface=l_urban2t]
compulsory=true
description=Switch for using the two-tile urban schemes (including MORUSES)
sort-key=Panel-F09
trigger=namelist:jules_surface_types=urban_canyon: .true.;
       =namelist:jules_surface_types=urban_roof: .true.;
       =namelist:jules_surface_types=urban: .false.;
       =namelist:jules_urban: .true.;
       =namelist:jules_urban=anthrop_heat_scale: .true.;
       =namelist:urban_properties: .true.;
       =namelist:run_stochastic=z0_urban_mult_rp: .true. ;
type=logical
url=http://jules-lsm.github.io/latest/namelists/jules_surface.nml.html#JULES_SURFACE::l_urban2t

[namelist:jules_surface=l_vary_z0m_soil]
compulsory=true
description=Enable soil roughness to be set from ancillary file
           =NOT AVAILABLE TO STANDALONE
fail-if=this == '.true.' and namelist:jules_model_environment=l_jules_parent == 0; # Variable roughness length of bare soil is currently not available to standalone.
!kind=default
sort-key=Panel-FX04
type=logical

[namelist:jules_surface=orog_drag_param]
compulsory=true
description=Drag coefficient for orographic form drag
           =NOT AVAILABLE TO STANDALONE
!kind=double
range=0.01:10.0
sort-key=Panel-FX01a
type=real

[namelist:jules_surface=srf_ex_cnv_gust]
compulsory=true
description=Include effect of convective downdraughts on surface exchange
           =NOT AVAILABLE TO STANDALONE
fail-if=this !=0 and namelist:jules_model_environment=l_jules_parent == 0; # This is not currently available to standalone.
help=Surface exchange is affected by the mean wind,
    =eddies spanning the depth
    =of the boundary layer and eddies driven by convective downdraughts.
    =Originally in the UM only boundary layer eddies were considered. If
    =convective downdraughts are included,
    =the impact of boundary-layer
    =eddies on surface exchange is reduced and convective eddies are
    =explicitly included using a parametrization due to Redelsperger
    =et al. (2000),
    =J. Climate,13,p. 402.
!kind=default
sort-key=Panel-FX03
trigger=namelist:run_convection=cnv_cold_pools: 1;
